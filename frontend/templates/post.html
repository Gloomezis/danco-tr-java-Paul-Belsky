
<div infinite-scroll='newsFeedPosts()' infinite-scroll-disabled='isScrollPaused'
infinite-scroll-distance='0.01'>

    <div ng-if="authService.isLoggedIn()" >
        <a translate="TOTAL_POST"> total post:</a>{{count}}
        <div class="newsFeedPost" ng-repeat='post in posts'>
            <div class="buttons">
                 <button  class="btn btn-default" ng-if="post.creator.username == authService.getCurrentUser().username" ng-click="deletePost(post)" translate="DELETE">Delete</button>
                <button  class="btn btn-default"  ng-if="post.creator.username == authService.getCurrentUser().username" ng-click="post.editing = true" ng-hide="post.editing" translate="EDIT">Edit </button>
            </div>
            <div class="postHeader">
                    <a  href="#/users/{{post.creator.id}}"><img ng-src="{{'resources/defaultProfilePicture.jpg'}}"/><span>{{post.creator.userDetails.firstName}}</span>
                    </a>
            </div>

            <div class="postContent" ng-hide="post.editing">{{post.text}}</div>
            <div ng-show="post.editing">
                 <form ng-submit="editPost(post)">
                      <textarea ng-model="post.text" placeholder="Write something..." cols="30" rows="3"  translate translate-attr-placeholder="WRITE_POST_PLACEHOLDER"> {{post.text}} </textarea>
                    <button  class="btn btn-default"  type="submit" ng-click="post.editing = false" translate="SAVE">Save</button>
                     <a href=""  class="btn btn-default" ng-click="post.editing = false" translate="CANCEL">Cancel</a>
                </form>
            </div>
            <div>
                  <a class="btn btn-default" href="#/posts/{{post.id}}/comments" translate="COMMENT">Comments</a>
            </div>
            
            <div class="floatRight">{{dateFromNow(post.timeCreation)}}</div>
            <div class="clear"></div>
        </div>
        <div>{{postsMessage}}</div>
    </div>
</div>